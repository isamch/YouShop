{
	"info": {
		"_postman_id": "youshop-backend-collection",
		"name": "YouShop E-commerce Backend",
		"description": "Complete API collection for YouShop microservices backend",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "1. Health Checks",
			"item": [
				{
					"name": "API Gateway Health",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{gateway_url}}/health",
							"host": ["{{gateway_url}}"],
							"path": ["health"]
						}
					}
				},
				{
					"name": "All Services Health",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{gateway_url}}/health/services",
							"host": ["{{gateway_url}}"],
							"path": ["health", "services"]
						}
					}
				}
			]
		},
		{
			"name": "2. Authentication",
			"item": [
				{
					"name": "Register User",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const response = pm.response.json();",
									"    pm.environment.set('access_token', response.access_token);",
									"    pm.environment.set('refresh_token', response.refresh_token);",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"admin@youshop.com\",\n  \"password\": \"Admin123!\",\n  \"firstName\": \"Admin\",\n  \"lastName\": \"User\"\n}"
						},
						"url": {
							"raw": "{{gateway_url}}/auth/register",
							"host": ["{{gateway_url}}"],
							"path": ["auth", "register"]
						}
					}
				},
				{
					"name": "Login User",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200 || pm.response.code === 201) {",
									"    const response = pm.response.json();",
									"    pm.environment.set('access_token', response.access_token);",
									"    pm.environment.set('refresh_token', response.refresh_token);",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"admin@youshop.com\",\n  \"password\": \"password\"\n}"
						},
						"url": {
							"raw": "{{gateway_url}}/auth/login",
							"host": ["{{gateway_url}}"],
							"path": ["auth", "login"]
						}
					}
				},
				{
					"name": "Get Profile",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{gateway_url}}/auth/profile",
							"host": ["{{gateway_url}}"],
							"path": ["auth", "profile"]
						}
					}
				},
				{
					"name": "Refresh Token",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    pm.environment.set('access_token', response.access_token);",
									"    pm.environment.set('refresh_token', response.refresh_token);",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"refreshToken\": \"{{refresh_token}}\"\n}"
						},
						"url": {
							"raw": "{{gateway_url}}/auth/refresh",
							"host": ["{{gateway_url}}"],
							"path": ["auth", "refresh"]
						}
					}
				}
			]
		},
		{
			"name": "3. Categories",
			"item": [
				{
					"name": "Create Category",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const response = pm.response.json();",
									"    pm.environment.set('category_id', response.id);",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Electronics\",\n  \"description\": \"Electronic devices and accessories\",\n  \"isActive\": true,\n  \"sortOrder\": 1\n}"
						},
						"url": {
							"raw": "{{gateway_url}}/catalog/categories",
							"host": ["{{gateway_url}}"],
							"path": ["catalog", "categories"]
						}
					}
				},
				{
					"name": "Get All Categories",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{gateway_url}}/catalog/categories",
							"host": ["{{gateway_url}}"],
							"path": ["catalog", "categories"]
						}
					}
				},
				{
					"name": "Get Category by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{gateway_url}}/catalog/categories/{{category_id}}",
							"host": ["{{gateway_url}}"],
							"path": ["catalog", "categories", "{{category_id}}"]
						}
					}
				},
				{
					"name": "Update Category",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"description\": \"Updated: Electronic devices and accessories\"\n}"
						},
						"url": {
							"raw": "{{gateway_url}}/catalog/categories/{{category_id}}",
							"host": ["{{gateway_url}}"],
							"path": ["catalog", "categories", "{{category_id}}"]
						}
					}
				}
			]
		},
		{
			"name": "4. Products",
			"item": [
				{
					"name": "Create Product",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const response = pm.response.json();",
									"    pm.environment.set('product_id', response.id);",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"iPhone 15 Pro\",\n  \"description\": \"Latest iPhone with advanced features\",\n  \"price\": 999.99,\n  \"sku\": \"IPH15PRO001\",\n  \"images\": [\"iphone15pro-1.jpg\", \"iphone15pro-2.jpg\"],\n  \"isActive\": true,\n  \"isFeatured\": true,\n  \"weight\": 0.206,\n  \"dimensions\": \"15.1 x 7.1 x 0.8 cm\",\n  \"tags\": [\"smartphone\", \"apple\", \"ios\"],\n  \"categoryId\": \"{{category_id}}\"\n}"
						},
						"url": {
							"raw": "{{gateway_url}}/catalog/products",
							"host": ["{{gateway_url}}"],
							"path": ["catalog", "products"]
						}
					}
				},
				{
					"name": "Get All Products",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{gateway_url}}/catalog/products?page=1&limit=10",
							"host": ["{{gateway_url}}"],
							"path": ["catalog", "products"],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "10"
								}
							]
						}
					}
				},
				{
					"name": "Get Featured Products",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{gateway_url}}/catalog/products/featured",
							"host": ["{{gateway_url}}"],
							"path": ["catalog", "products", "featured"]
						}
					}
				},
				{
					"name": "Search Products",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{gateway_url}}/catalog/products?search=iPhone&minPrice=500&maxPrice=1500",
							"host": ["{{gateway_url}}"],
							"path": ["catalog", "products"],
							"query": [
								{
									"key": "search",
									"value": "iPhone"
								},
								{
									"key": "minPrice",
									"value": "500"
								},
								{
									"key": "maxPrice",
									"value": "1500"
								}
							]
						}
					}
				},
				{
					"name": "Get Product by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{gateway_url}}/catalog/products/{{product_id}}",
							"host": ["{{gateway_url}}"],
							"path": ["catalog", "products", "{{product_id}}"]
						}
					}
				}
			]
		},
		{
			"name": "5. SKU Management",
			"item": [
				{
					"name": "Create SKU",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const response = pm.response.json();",
									"    pm.environment.set('sku_id', response.id);",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"code\": \"IPH15PRO-256-BLK\",\n  \"productId\": \"{{product_id}}\",\n  \"name\": \"iPhone 15 Pro 256GB Black\",\n  \"description\": \"iPhone 15 Pro with 256GB storage in Black\",\n  \"price\": 1199.99,\n  \"barcode\": \"1234567890123\",\n  \"weight\": 0.206,\n  \"dimensions\": \"15.1 x 7.1 x 0.8 cm\",\n  \"images\": [\"iphone15pro-black-1.jpg\"],\n  \"attributes\": {\n    \"color\": \"Black\",\n    \"storage\": \"256GB\",\n    \"model\": \"Pro\"\n  },\n  \"isActive\": true,\n  \"trackQuantity\": true,\n  \"allowBackorder\": false\n}"
						},
						"url": {
							"raw": "{{gateway_url}}/inventory/sku",
							"host": ["{{gateway_url}}"],
							"path": ["inventory", "sku"]
						}
					}
				},
				{
					"name": "Get All SKUs",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{gateway_url}}/inventory/sku",
							"host": ["{{gateway_url}}"],
							"path": ["inventory", "sku"]
						}
					}
				},
				{
					"name": "Get SKU by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{gateway_url}}/inventory/sku/{{sku_id}}",
							"host": ["{{gateway_url}}"],
							"path": ["inventory", "sku", "{{sku_id}}"]
						}
					}
				}
			]
		},
		{
			"name": "6. Stock Management",
			"item": [
				{
					"name": "Create Stock",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const response = pm.response.json();",
									"    pm.environment.set('stock_id', response.id);",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"skuId\": \"{{sku_id}}\",\n  \"locationId\": \"warehouse-001\",\n  \"availableQuantity\": 100,\n  \"reorderPoint\": 10,\n  \"maxStock\": 1000\n}"
						},
						"url": {
							"raw": "{{gateway_url}}/inventory/stock",
							"host": ["{{gateway_url}}"],
							"path": ["inventory", "stock"]
						}
					}
				},
				{
					"name": "Reserve Stock",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const response = pm.response.json();",
									"    pm.environment.set('reservation_id', response.id);",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"skuId\": \"{{sku_id}}\",\n  \"orderId\": \"test-order-123\",\n  \"quantity\": 2,\n  \"reservedBy\": \"user-123\",\n  \"expirationMinutes\": 30\n}"
						},
						"url": {
							"raw": "{{gateway_url}}/inventory/stock/reserve",
							"host": ["{{gateway_url}}"],
							"path": ["inventory", "stock", "reserve"]
						}
					}
				},
				{
					"name": "Get Stock by SKU",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{gateway_url}}/inventory/stock/sku/{{sku_id}}",
							"host": ["{{gateway_url}}"],
							"path": ["inventory", "stock", "sku", "{{sku_id}}"]
						}
					}
				},
				{
					"name": "Release Stock",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"reservationId\": \"{{reservation_id}}\",\n  \"reason\": \"Order cancelled by customer\"\n}"
						},
						"url": {
							"raw": "{{gateway_url}}/inventory/stock/release",
							"host": ["{{gateway_url}}"],
							"path": ["inventory", "stock", "release"]
						}
					}
				}
			]
		},
		{
			"name": "7. Orders",
			"item": [
				{
					"name": "Create Order",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const response = pm.response.json();",
									"    pm.environment.set('order_id', response.id);",
									"    pm.environment.set('order_number', response.orderNumber);",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"userId\": \"user-123\",\n  \"items\": [\n    {\n      \"productId\": \"{{product_id}}\",\n      \"skuId\": \"{{sku_id}}\",\n      \"quantity\": 1,\n      \"unitPrice\": 1199.99\n    }\n  ],\n  \"shippingAddress\": {\n    \"firstName\": \"John\",\n    \"lastName\": \"Doe\",\n    \"address1\": \"123 Main St\",\n    \"city\": \"New York\",\n    \"state\": \"NY\",\n    \"postalCode\": \"10001\",\n    \"country\": \"USA\",\n    \"phone\": \"+1234567890\"\n  },\n  \"notes\": \"Please deliver after 5 PM\"\n}"
						},
						"url": {
							"raw": "{{gateway_url}}/orders",
							"host": ["{{gateway_url}}"],
							"path": ["orders"]
						}
					}
				},
				{
					"name": "Get All Orders",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{gateway_url}}/orders?page=1&limit=10",
							"host": ["{{gateway_url}}"],
							"path": ["orders"],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "10"
								}
							]
						}
					}
				},
				{
					"name": "Get Order by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{gateway_url}}/orders/{{order_id}}",
							"host": ["{{gateway_url}}"],
							"path": ["orders", "{{order_id}}"]
						}
					}
				},
				{
					"name": "Get Order by Number",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{gateway_url}}/orders/number/{{order_number}}",
							"host": ["{{gateway_url}}"],
							"path": ["orders", "number", "{{order_number}}"]
						}
					}
				},
				{
					"name": "Update Order Status",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"status\": \"confirmed\",\n  \"reason\": \"Payment confirmed\",\n  \"changedBy\": \"admin-123\"\n}"
						},
						"url": {
							"raw": "{{gateway_url}}/orders/{{order_id}}/status",
							"host": ["{{gateway_url}}"],
							"path": ["orders", "{{order_id}}", "status"]
						}
					}
				},
				{
					"name": "Ship Order",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"trackingNumber\": \"TRK123456789\",\n  \"notes\": \"Shipped via FedEx\",\n  \"shippedBy\": \"admin-123\"\n}"
						},
						"url": {
							"raw": "{{gateway_url}}/orders/{{order_id}}/ship",
							"host": ["{{gateway_url}}"],
							"path": ["orders", "{{order_id}}", "ship"]
						}
					}
				},
				{
					"name": "Get Order History",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{gateway_url}}/orders/{{order_id}}/history",
							"host": ["{{gateway_url}}"],
							"path": ["orders", "{{order_id}}", "history"]
						}
					}
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "gateway_url",
			"value": "http://localhost:3000/api",
			"type": "string"
		},
		{
			"key": "access_token",
			"value": "",
			"type": "string"
		},
		{
			"key": "refresh_token",
			"value": "",
			"type": "string"
		},
		{
			"key": "category_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "product_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "sku_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "stock_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "reservation_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "order_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "order_number",
			"value": "",
			"type": "string"
		}
	]
}